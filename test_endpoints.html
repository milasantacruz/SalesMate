<!DOCTYPE html>
<html>
<head>
    <title>Test Odoo Endpoints</title>
</head>
<body>
    <h1>Test Odoo Endpoints</h1>
    <button onclick="testXMLRPC()">Test XML-RPC</button>
    <button onclick="testJSONRPC()">Test JSON-RPC</button>
    <div id="results"></div>

    <script>
        const server = 'https://odooconsultores-mtfood-staging-22669119.dev.odoo.com';
        
        async function testXMLRPC() {
            try {
                const response = await fetch(`${server}/xmlrpc/2/common`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'text/xml' },
                    body: `<?xml version="1.0"?>
                           <methodCall>
                               <methodName>version</methodName>
                           </methodCall>`
                });
                document.getElementById('results').innerHTML += 
                    `<p>XML-RPC: ${response.status} ${response.statusText}</p>`;
            } catch (e) {
                document.getElementById('results').innerHTML += 
                    `<p>XML-RPC Error: ${e.message}</p>`;
            }
        }
        
        async function testJSONRPC() {
            try {
                const response = await fetch(`${server}/web/session/authenticate`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        jsonrpc: '2.0',
                        method: 'call',
                        params: { db: 'test', login: 'test', password: 'test' },
                        id: 1
                    })
                });
                document.getElementById('results').innerHTML += 
                    `<p>JSON-RPC: ${response.status} ${response.statusText}</p>`;
            } catch (e) {
                document.getElementById('results').innerHTML += 
                    `<p>JSON-RPC Error: ${e.message}</p>`;
            }
        }
    </script>
</body>
</html>
